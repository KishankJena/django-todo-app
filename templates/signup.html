{% extends "base.html" %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-12 col-md-5">
    <div class="card p-4 shadow-lg" style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);">
      
      <div class="text-center mb-4">
        <i class="bi bi-person-plus text-primary" style="font-size: 3rem;"></i>
        <h2 class="fw-bold text-white">Create Account</h2>
        <p class="text-white-50">Join us to start managing your tasks</p>
      </div>

      <form method="post" novalidate>
        {% csrf_token %}

        {% for field in form %}
  <div class="mb-4">
    <label class="form-label text-white fw-semibold mb-1">
      {{ field.label }}
    </label>
    
    <div class="input-group">
      <span class="input-group-text bg-dark border-secondary text-white-50">
        <i class="bi bi-pencil-square"></i>
      </span>
      {# Use field.name directly to ensure it matches Django's requirements #}
      <input type="{{ field.field.widget.input_type }}" 
             name="{{ field.name }}" 
             id="{{ field.id_for_label }}"
             class="form-control bg-dark border-secondary text-white px-3" 
             placeholder="Enter {{ field.label }}"
             {% if field.field.required %}required{% endif %}>
    </div>

    {% if field.errors %}
      <div class="text-warning small mt-2 fw-bold">
        {{ field.errors|striptags }}
      </div>
    {% endif %}
    
    {% if field.help_text %}
      <div class="form-text text-white-50 mt-2" style="font-size: 0.8rem; line-height: 1.4;">
        {{ field.help_text|safe }}
      </div>
    {% endif %}
  </div>
{% endfor %}
        <div class="d-grid gap-2 mt-4">
          <button class="btn btn-primary btn-lg fw-bold" type="submit">
            <i class="bi bi-check-circle-fill"></i> Register Now
          </button>
          <div class="text-center mt-3">
            <span class="text-white-50 small">Already have an account?</span>
            <a class="text-primary text-decoration-none small fw-bold ms-1" href="{% url 'login' %}">Login</a>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}